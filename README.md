# スマスロ北斗の拳 設定判別システム v2.0

統計的手法による科学的な設定判別を行うWebアプリケーションです。冷遇・優遇システムを考慮した高精度な判定を提供します。

## 🎯 特徴

### 統計分析エンジン
- **二項分布による確率計算**: 科学的根拠に基づく分析
- **95%信頼区間分析**: 統計的信頼性の確保
- **ベイズ推定**: 複数要素を統合した確率計算
- **上振れ vs 実力判定**: 単なる運か実力かを統計的に判定

### 冷遇・優遇システム対応
- **自動状態判定**: 差枚数による冷遇(-1500枚以下)・優遇(+1500枚以上)状態の自動検出
- **状態別分析**: 冷遇時は継続率データを判別要素から除外
- **補正計算**: 優遇時のボーナス補正と冷遇時のペナルティ考慮

### 重要度別要素処理
- **★★★★★ ボイス分析**: 最重要要素として高い重みで評価
- **★★★★☆ ベル比率分析**: ベル出現比率による設定推定
- **★★★☆☆ 初当たり・モード移行**: 中程度の重要度で評価
- **論理エラー防止**: 優遇状態での継続率判別使用禁止等

## 🚀 クイックスタート

### 必要要件
- Node.js 18.0.0以上
- npm または yarn

### インストール
```bash
cd hokuto-setting-analyzer
npm install
```

### 開発サーバー起動
```bash
npm start
```

ブラウザで `http://localhost:3000` にアクセス

### ビルド（本番用）
```bash
npm run build
```

## 📊 使用方法

### 1. データ入力
以下の項目を正確に入力してください：

#### 必須データ
- **ゲーム数**: 現在の総ゲーム数
- **差枚数**: 現在の差枚数（マイナス可）

#### 分析要素
- **ボイス情報**: シン系、ジャギ系、アミバ系、その他の回数
- **ベル情報**: 斜めベル、中段ベルの回数
- **初当たり情報**: 中段チェリー当選、その他当選の回数
- **モード移行情報**: AT終了、ジャギステージスタート、天国移行の回数

### 2. 分析実行
「🔍 分析実行」ボタンをクリックして統計分析を開始

### 3. 結果確認
- **推奨行動**: 継続・やめ・様子見の統計的推奨
- **設定別可能性**: 各設定の確率（%）
- **確率比較**: 設定間の確率比較
- **上振れ vs 実力**: 統計的根拠の強さ

## 🧪 テスト機能

### プリセットテストデータ
「🧪 テストデータを読込」から以下のシナリオが利用可能：

1. **高設定複合パターン**: 設定6を強く示唆
2. **低設定示唆パターン**: 設定1-2を示唆  
3. **矛盾要素パターン**: 要素間で矛盾するケース
4. **データ不足パターン**: サンプル数が少ない場合

### 期待値検証
各テストケースには期待される分析結果が設定されており、システムの動作確認に使用できます。

## ⚠️ 重要な注意事項

### エラー防止システム
- **冷遇状態**: 差枚-1500以下時は継続率データを判別要素から除外
- **データ検証**: 入力データの整合性チェック
- **★評価遵守**: 低重要度要素の過度な重視を防止
- **天国中弱スイカ判別**: 天国モード確定時のみ使用可能

### 統計的限界
- 本システムは統計的分析結果であり、確実な予測ではありません
- データの正確性が分析精度に大きく影響します
- サンプル数が少ない場合は信頼度が低下します

### 責任ある利用
- 分析結果は参考情報として利用してください
- 最終的な判断は自己責任で行ってください
- 無理な継続は避け、計画的な遊技を心がけてください

## 🔧 技術仕様

### アーキテクチャ
- **フロントエンド**: React 18 + TypeScript
- **スタイリング**: Tailwind CSS + カスタムコンポーネント
- **状態管理**: React Hooks（useState, useCallback）
- **統計計算**: カスタム統計エンジン（二項分布、ベイズ推定）

### 主要ファイル構成
```
src/
├── components/          # UIコンポーネント
│   ├── Header.tsx
│   ├── Footer.tsx
│   ├── DataInputPanel.tsx
│   └── AnalysisResultsPanel.tsx
├── utils/              # ユーティリティ
│   ├── statisticalEngine.ts  # 統計分析エンジン
│   └── testData.ts           # テストデータ
├── types/              # TypeScript型定義
│   └── index.ts
└── App.tsx             # メインアプリケーション
```

### パフォーマンス最適化
- **メモ化**: useCallback による関数メモ化
- **リアルタイム計算**: 入力時の自動合計計算
- **型安全性**: TypeScript による完全な型チェック

## 📈 開発・カスタマイズ

### 新しい分析要素の追加
1. `types/index.ts` に新しいデータ型を追加
2. `utils/statisticalEngine.ts` に期待値データを追加
3. `components/DataInputPanel.tsx` に入力フィールドを追加
4. `components/AnalysisResultsPanel.tsx` に結果表示を追加

### テストデータの追加
`utils/testData.ts` の `testScenarios` 配列に新しいシナリオを追加

### スタイリングのカスタマイズ
`tailwind.config.js` でカラーパレットやテーマを変更可能

## 🤝 貢献・フィードバック

このプロジェクトは統計的設定判別の精度向上を目指しています。

### 改善提案
- 新しい分析要素の追加提案
- 統計手法の改善案
- UI/UXの向上提案

### バグ報告
- 計算結果の異常
- データ入力の不具合
- 表示の問題

## 📄 ライセンス

MIT License - 教育・研究目的での利用を推奨

## 🔄 更新履歴

### v2.0 (Current)
- React + TypeScript による完全リニューアル
- 統計分析エンジンの高度化
- 冷遇・優遇システム対応
- エラー防止システム実装
- テストデータ機能追加

### v1.0
- HTML/CSS/JavaScript による初期版
- 基本的な設定判別機能

---

**免責事項**: このシステムは統計的分析ツールです。結果は参考情報として利用し、最終的な判断は自己責任で行ってください。ギャンブル依存症の予防に努め、責任ある遊技を心がけてください。